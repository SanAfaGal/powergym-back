# =============================================================================
# PowerGym Backend - Environment Configuration Template
# =============================================================================
# Copy this file to .env.development or .env.production and fill in the values
# 
# Usage:
#   - Development: Copy to .env.development and configure for local Docker
#   - Production: Copy to .env.production and configure for Neon cloud database
# =============================================================================

# ==================== APP CONFIG ====================
# Application name and version
PROJECT_NAME=PowerGym API
VERSION=1.0.0
API_V1_STR=/api/v1

# Environment: development, staging, or production
ENVIRONMENT=development

# Debug mode: Set to True for development, False for production
# WARNING: Never enable DEBUG in production
DEBUG=False

# ==================== SECURITY ====================
# JWT Secret Key - REQUIRED
# Generate a strong random key: python -c "import secrets; print(secrets.token_urlsafe(32))"
# CRITICAL: Use different keys for development and production
SECRET_KEY=your-secret-key-here-change-this-in-production

# JWT Algorithm
ALGORITHM=HS256

# Access token expiration time in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30

# Refresh token expiration time in days
REFRESH_TOKEN_EXPIRE_DAYS=7

# Biometric data encryption key - REQUIRED
# Generate a strong random key: python -c "import secrets; print(secrets.token_urlsafe(32))"
# CRITICAL: Use different keys for development and production
BIOMETRIC_ENCRYPTION_KEY=your-biometric-encryption-key-here-change-this-in-production

# ==================== CORS & ALLOWED ORIGINS ====================
# Comma-separated list of allowed origins for CORS
# Development: Include localhost origins
# Production: Include only your production frontend URLs
ALLOWED_ORIGINS_STR=http://localhost:5173,http://localhost:3000

# ==================== SUPER ADMIN ====================
# Initial super admin credentials - REQUIRED
# These will be used to create the first admin user on application startup
# WARNING: Change these values in production immediately after first login
SUPER_ADMIN_USERNAME=admin
SUPER_ADMIN_PASSWORD=password
SUPER_ADMIN_EMAIL=admin@example.com
SUPER_ADMIN_FULL_NAME=Super Administrator

# ==================== DATABASE ====================
# Database connection URLs - REQUIRED
# 
# For Docker (Development):
#   DATABASE_URL=postgresql://user:password@localhost:5432/dbname
#   ASYNC_DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/dbname
#
# For Neon (Production):
#   DATABASE_URL=postgresql://user:password@ep-xxx-xxx.region.aws.neon.tech/dbname?sslmode=require
#   ASYNC_DATABASE_URL=postgresql+asyncpg://user:password@ep-xxx-xxx.region.aws.neon.tech/dbname?sslmode=require
#
# Note: ASYNC_DATABASE_URL must use postgresql+asyncpg:// for async connections
#       Neon requires ?sslmode=require at the end of the connection string

# Synchronous database URL (for SQLAlchemy sync operations)
DATABASE_URL=postgresql://user:password@localhost:5432/db

# Asynchronous database URL (for SQLAlchemy async operations)
ASYNC_DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/db

# PostgreSQL connection details (Optional - used for Docker Compose)
# These are optional if you're using full connection strings in DATABASE_URL
POSTGRES_USER=user
POSTGRES_PASSWORD=password
POSTGRES_DB=db
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# ==================== CACHE ====================
# Redis connection URL (Optional)
# Format: redis://[:password@]host[:port][/db]
# Leave empty if not using Redis
REDIS_URL=

# ==================== FACE RECOGNITION & MEDIAPIPE ====================
# Embedding dimensions for face recognition - REQUIRED
# Must match the model output size (typically 512 for InsightFace)
EMBEDDING_DIMENSIONS=512

# InsightFace model name
# Options: buffalo_s, buffalo_l, buffalo_sc
INSIGHTFACE_MODEL=buffalo_s

# Detection size for InsightFace
INSIGHTFACE_DET_SIZE=640

# Context ID for InsightFace (-1 for CPU, 0+ for GPU)
INSIGHTFACE_CTX_ID=-1

# Face recognition tolerance (0.0-1.0)
# Lower values = stricter matching, Higher values = more lenient
FACE_RECOGNITION_TOLERANCE=0.6

# MediaPipe minimum detection confidence (0.0-1.0)
MEDIAPIPE_MIN_DETECTION_CONFIDENCE=0.5

# ==================== IMAGE PROCESSING ====================
# Maximum image size in MB
MAX_IMAGE_SIZE_MB=5

# Allowed image formats (comma-separated)
ALLOWED_IMAGE_FORMATS_STR=jpg,jpeg,png,webp

# Image compression quality (1-100)
# Higher values = better quality but larger file size
IMAGE_COMPRESSION_QUALITY=85

# Thumbnail compression quality (1-100)
THUMBNAIL_COMPRESSION_QUALITY=70

# Thumbnail dimensions in pixels
THUMBNAIL_WIDTH=150
THUMBNAIL_HEIGHT=150

# Embedding compression level (0-9)
# Higher values = better compression but more CPU usage
EMBEDDING_COMPRESSION_LEVEL=9

# Enable image compression
ENABLE_COMPRESSION=True

# ==================== RATE LIMITING ====================
# Enable rate limiting
RATE_LIMIT_ENABLED=True

# Rate limit: requests per minute per IP
RATE_LIMIT_PER_MINUTE=60

# ==================== ADMIN UI ====================
# Adminer UI port (Optional)
# Used for database administration via Docker Compose
ADMINER_PORT=8080

# ==================== TELEGRAM NOTIFICATIONS ====================
# Telegram bot token (Optional)
# Get from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=

# Telegram chat ID for notifications (Optional)
# Get by messaging your bot and checking the chat ID
TELEGRAM_CHAT_ID=

# Enable Telegram notifications
TELEGRAM_ENABLED=True
